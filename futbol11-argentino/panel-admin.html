<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de Administración - Fútbol 11 Argentino</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0D1B2A;
      color: white;
      padding: 40px;
    }
    h1 {
      color: #A67C00;
    }
    label, select, input, textarea, button {
      display: block;
      width: 100%;
      margin-bottom: 15px;
    }
    input, select, textarea {
      padding: 10px;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #A67C00;
      color: white;
      font-weight: bold;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background-color: #1e2a38;
      padding: 30px;
      border-radius: 8px;
    }
    .section {
      margin-top: 40px;
    }
  </style>
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
    import { getFirestore, collection, addDoc } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyCmKCofXzl05FtXPF5doBMvCf-rY-0aGFE",
      authDomain: "futbol-11-argentino-16892.firebaseapp.com",
      projectId: "futbol-11-argentino-16892",
      storageBucket: "futbol-11-argentino-16892.firebasestorage.app",
      messagingSenderId: "266321510777",
      appId: "1:266321510777:web:2d9a6441cf49e897ceafa8",
      measurementId: "G-GKTXCJ5K74"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.guardarDesafio = async function guardarDesafio() {
      const juego = document.getElementById('juego').value;
      const fecha = document.getElementById('fecha').value;
      const equipo1 = document.getElementById('equipo1').value;
      const equipo2 = document.getElementById('equipo2').value;
      const jugadores = document.getElementById('jugadores').value.split(',').map(j => j.trim());

      try {
        await addDoc(collection(db, 'desafios-diarios'), {
          juego,
          fecha,
          equipo1,
          equipo2,
          jugadores
        });
        alert('Desafío diario guardado correctamente.');
      } catch (error) {
        console.error('Error al guardar desafío:', error);
        alert('Hubo un error al guardar el desafío.');
      }
    }

    window.guardarNivel = async function guardarNivel() {
      const juego = document.getElementById('nivelJuego').value;
      const nombre = document.getElementById('nivelNombre').value.trim();
      const equipo1 = document.getElementById('nivelEquipo1').value;
      const equipo2 = document.getElementById('nivelEquipo2').value;
      const jugadores = document.getElementById('nivelJugadores').value.split(',').map(j => j.trim());

      if (!nombre) {
        alert('Ingresá un nombre de nivel.');
        return;
      }

      try {
        await addDoc(collection(db, 'niveles'), {
          juego,
          nombre,
          equipo1,
          equipo2,
          jugadores
        });
        alert('Nivel guardado correctamente.');
      } catch (error) {
        console.error('Error al guardar nivel:', error);
        alert('Hubo un error al guardar el nivel.');
      }
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>Panel de Administración</h1>

    <div class="section">
      <h2>Desafío Diario</h2>
      <label for="juego">Juego:</label>
      <select id="juego">
        <option value="jugadores-en-comun">Jugadores en Común</option>
      </select>

      <label for="fecha">Fecha del desafío diario:</label>
      <input type="date" id="fecha">

      <label for="equipo1">Equipo 1:</label>
      <input type="text" id="equipo1">

      <label for="equipo2">Equipo 2:</label>
      <input type="text" id="equipo2">

      <label for="jugadores">Jugadores válidos (separados por coma):</label>
      <textarea id="jugadores"></textarea>

      <button onclick="guardarDesafio()">Guardar desafío diario</button>
    </div>

    <div class="section">
      <h2>Crear Nivel</h2>
      <label for="nivelJuego">Juego:</label>
      <select id="nivelJuego">
        <option value="jugadores-en-comun">Jugadores en Común</option>
      </select>

      <label for="nivelNombre">Nombre del nivel:</label>
      <input type="text" id="nivelNombre">

      <label for="nivelEquipo1">Equipo 1:</label>
      <input type="text" id="nivelEquipo1">

      <label for="nivelEquipo2">Equipo 2:</label>
      <input type="text" id="nivelEquipo2">

      <label for="nivelJugadores">Jugadores válidos (separados por coma):</label>
      <textarea id="nivelJugadores"></textarea>

      <button onclick="guardarNivel()">Guardar nivel</button>
    </div>
  </div>
</body>
</html>
